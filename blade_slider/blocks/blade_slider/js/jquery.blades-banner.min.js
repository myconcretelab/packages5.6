(function(f){function U(){function D(a){a.stopImmediatePropagation();k&&clearTimeout(k);0<c?c--:c=M;v(!0)}function ia(a){a.stopImmediatePropagation();k&&clearTimeout(k);c<M?c++:c=0;v(!0)}function V(){w=N=0;if(0===E)O=setInterval(U,100);else{var a=[],e;P=[];for(e=0;e<F;e++)a[e]=e;for(;0<a.length;)e=Math.floor(Math.random()*a.length),P[P.length]=a[e],a.splice(e,1);O=setInterval(ja,50)}}function U(){if(w<t){for(var a=W[w],e=0;e<B;e++)ja(a[e],!0);w++}else clearInterval(O)}function ja(a,e){var l,b,i,j; !0===e?l=a:l=P[N];N<ka?(N++,b=null):(clearInterval(O),b=ra);cssObj={width:I,height:J,background:"url('"+G[c]+"') "+q[l].bgX+"px "+q[l].bgY+"px",position:"absolute",left:q[l].xx,top:q[l].yy};i=f("<div />").css(cssObj).appendTo(x);if(2!==H){if(0===H)j="#FFF";else for(j="#"+Math.floor(16777215*Math.random()).toString(16);7!==j.length;)j="#"+Math.floor(16777215*Math.random()).toString(16);f("<div />").css({width:I,height:J,backgroundColor:j}).appendTo(i).fadeOutJacked({callback:b,ease:"Linear.easeOut"})}else i.css("display", "none").fadeInJacked({callback:b,ease:"Linear.easeOut"});0===r?u[l]=i:s[l]=i}function ra(){if(la)la=!1;else{var a=F;if(1===r){for(;a--;)u[a].remove();K.remove();K=u=null}else{for(;a--;)s[a].remove();Q.remove();Q=s=null}}a=F;if(0===r)for(;a--;)u[a].jacked({left:q[a].x,top:q[a].y},{duration:250,ease:"Sine.easeOut",callback:0!==a?null:ma});else for(;a--;)s[a].jacked({left:q[a].x,top:q[a].y},{duration:250,ease:"Sine.easeOut",callback:0!==a?null:ma})}function ma(){""!==L[c]&&x.css("cursor","pointer").click(na); R&&(X.click(D).fadeInJacked({duration:300}),Y.click(ia).fadeInJacked({duration:300}));0!=S[c]?(m=S[c],Z=m.content.length-1,$=m.align,p=[],n=0,aa()):ba()}function na(){"parent"===oa?window.location=L[c]:window.open(L[c])}function aa(){function a(a,b,e){a.style.clip="rect(0px, "+i*b+"px, "+j+"px, 0px)";e&&c()}function e(a,b,e){a.style.clip="rect(0px, "+i+"px, "+j+"px, "+(i-i*b)+"px)";e&&c()}var l=m.content[n];if(0===l)n<Z?(n++,aa()):ba();else{var b,i,j,c,h=f("<div />").html(l).addClass("cj-info-text").appendTo(x); b=h.height();l=h.width();i=l+(h.outerWidth()-l);j=b+(h.outerHeight()-b);h.css(m.style[n]).css({left:"left"===$?m.position[n].x:T-m.position[n].x-i,top:m.position[n].y,width:l,height:b,overflow:"hidden"}).find("a").each(function(){f(this).css(m.style[n])});p[n]=h;n<Z?(n++,c=aa):c=ba;"left"===$?(h[0].style.clip="rect(0px, 0px, "+j+"px, 0px)",Jacked.special(h[0],400,"Quint.easeOut",a)):(h[0].style.clip="rect(0px, "+i+"px, "+j+"px, "+l+"px)",Jacked.special(h[0],400,"Quint.easeOut",e))}}function ba(){ca= !0;da&&!ea&&(k=setTimeout(v,fa))}function sa(){ea=!0;k&&clearTimeout(k)}function ta(){ea=!1;ca&&(k=setTimeout(v,fa))}function v(a){ca=!1;x.css("cursor","auto").unbind("click",na);if(null!=p){for(;p.length;)p[0].stopJacked().remove(),p.shift();p=null}R&&(X.stopJacked(!0).css("display","none").unbind("click",D),Y.stopJacked(!0).css("display","none").unbind("click",ia));!0!==a&&(c<M?c++:c=0);a=F;if(0===r)for(;a--;)u[a].jacked({left:q[a].xx,top:q[a].yy},{duration:250,ease:"Sine.easeOut",callback:0!== a?null:pa});else for(;a--;)s[a].jacked({left:q[a].xx,top:q[a].yy},{duration:250,ease:"Sine.easeOut",callback:0!==a?null:pa})}function pa(){0===r?(r=1,s=[],Q=f("<img />").one("load",V),Q.attr("src",G[c])):(r=0,u=[],K=f("<img />").one("load",V),K.attr("src",G[c]))}var K,Q,T,ga,F,ka,I,J,z,q,s,O,x,N,fa,P,p,H,M,X,Y,k,$,Z,n,m,R,W,t,B,E,da,qa,w,oa,L=[],S=[],G=[];q=[];var u=[],c=0,r=0,b=f(this),ea=!1,la=!0,ca=!1,ua="ontouchend"in document;(function(){var a,e,c,n,i,j,m,h,y,g,o,k,C,r,A,p,d,u,s,D=[],v=[],w= [];C=b.attr("data-transitionType")||"whiteflash";C=C.toLowerCase();da=ha(b.attr("data-autoPlay"));t=parseInt(b.attr("data-cols"),10)||7;B=parseInt(b.attr("data-rows"),10)||3;T=parseInt(b.attr("data-width"),10)||700;ga=parseInt(b.attr("data-height"),10)||300;qa=ha(b.attr("data-randomizeSlides"));z=-parseInt(b.attr("data-thumbSpacing"),10);fa=parseInt(b.attr("data-slideDelay"),10);R=ha(b.attr("data-useArrows"));oa=b.attr("data-linkTarget")||"parent";b.children("ul").children("li").each(function(b){u= f(this);v[b]=u.attr("title");i=u.find("ul");i.attr("title")?w[b]=i.attr("title"):w[b]="";r=u.find("li");r.length?(a=[],e=[],c=[],r.each(function(b){s=f(this);""!=r.html()?(n=s.attr("class").split("x"),a[b]=s.html(),e[b]={x:parseInt(n[0]),y:parseInt(n[1])},c[b]={color:s.css("color"),backgroundColor:s.css("background-color")}):(a[b]=0,e[b]=0,c[b]=0)}),D[b]={content:a,position:e,style:c,align:i.attr("class").split("-")[1]}):D[b]=0});k=v.length;if(qa){A=[];p=[];g=[];for(d=0;d<k;d++)A[d]=v[d],p[d]=D[d], g[d]=w[d];for(;0<A.length;)d=Math.floor(Math.random()*A.length),o=G.length,G[o]=A[d],S[o]=p[d],L[o]=g[d],A.splice(d,1),p.splice(d,1),g.splice(d,1)}else G=v,S=D,L=w;f(document);b.css({width:T,height:ga});x=f("<div />").appendTo(b);M=k-1;da&&!ua&&x.mouseenter(sa).mouseleave(ta);switch(C){case "whiteflash":H=E=0;break;case "basicfade":E=0;H=2;break;case "whiteflashrandom":E=1;H=0;break;case "basicfaderandom":E=1;H=2;break;case "colorsrandom":H=E=1}F=t*B;ka=F-1;I=Math.floor(T/t);J=Math.floor(ga/B);x.offset(); k=(t-1)/2;C=(B-1)/2;1===t%2?(j=Math.floor(t/2),A=!0):A=!1;1===B%2?(m=Math.floor(B/2),p=!0):p=!1;if(0===E){W=[];numbers=[];for(d=countPlus=iCount=0;d<t;d++){for(g=0;g<B;g++)numbers[numbers.length]=g*t+countPlus;W[d]=numbers;numbers=[];countPlus++}}for(d=0;d<F;d++)g=d%t,o=Math.floor(d/t),h=I*g,y=J*o,h=A?g!==j?g<j?h+z*(j-g):g>j?h-z*(g-j):h:h:g<k?h+z*(k-g):h-z*(g-k),y=p?o!==m?o<m?y+z*(m-o):o>m?y-z*(o-m):y:y:o<C?y+z*(C-o):y-z*(o-C),q[d]={x:I*g,y:J*o,xx:h,yy:y,bgX:-(I*g),bgY:-(J*o)};R&&(X=f("<div />").addClass("cj-left-arrow").appendTo(x), Y=f("<div />").addClass("cj-right-arrow").appendTo(x));K=f("<img />").one("load",V);K.attr("src",G[0])})()}function ha(f){return f?"true"===f.toString().toLowerCase():!1}f.fn.blades=function(){return this.each(U)};f(document).ready(function(){Jacked.setEngines({firefox:!0,opera:!0,android:!0,safari:!0});f(".cj-banner").blades()})})(jQuery);